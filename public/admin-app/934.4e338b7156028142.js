"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[934],{2934:(C,c,r)=>{r.r(c),r.d(c,{AddRtablesModule:()=>F});var p=r(177),m=r(245),d=r(467),n=r(4341),o=r(3953),v=r(5754),h=r(2406),y=r(9253),f=r(7376),b=r(5011);const g=[{path:"",component:(()=>{class s{constructor(l,e,t){this.nav=l,this.network=e,this.utility=t,this.form=new n.gE({}),this.model={identifier:"",location:"",restaurant:"",description:"",status:""},this.fields=[{fieldGroupClassName:"row",fieldGroup:[{key:"identifier",type:"input",props:{label:"Name",placeholder:"Enter table name",required:!0,minLength:3},className:"col-md-6 col-12"},{key:"location",type:"input",props:{label:"Location",placeholder:"Near west wall",required:!0},className:"col-md-6 col-12"}]},{fieldGroupClassName:"row",fieldGroup:[{key:"description",type:"textarea",props:{label:"Description",placeholder:"Enter a description",required:!1},className:"col-md-6 col-12"},{key:"status",type:"select",props:{label:"Status",placeholder:"Select status",required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},className:"col-md-6 col-12"}]}]}ngOnInit(){this.setRoleInForm()}setRoleInForm(){var l=this;return(0,d.A)(function*(){const e=yield l.getRoles();console.log(e);for(var t=0;t<l.fields.length;t++)for(var a=0;a<l.fields[t].fieldGroup.length;a++){let i=l.fields[t].fieldGroup[a];"role"==i.key&&(i.props.options=e)}})()}getRoles(){var l=this;return(0,d.A)(function*(){const t=yield l.network.getRoles({search:""});return t&&t.data?t.data.data.map(u=>({value:u.id,label:u.name})):[]})()}onSubmit(l){var e=this;return(0,d.A)(function*(){if(console.log(l),console.log("Form Submitted",e.form.valid),e.form.valid){let t=e.form.value;const a=yield e.network.addTable(t);console.log(a),a&&e.nav.pop()}else e.utility.presentFailureToast("Please fill out all required fields correctly.")})()}onFileSelected(l){const e=l.target;if(e.files&&e.files[0]){const t=e.files[0],a=new FileReader;a.onload=()=>{},a.onerror=i=>{console.error("Error reading file:",i)},a.readAsDataURL(t)}}static{this.\u0275fac=function(e){return new(e||s)(o.rXU(v.F),o.rXU(h.A),o.rXU(y.Q))}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-add-rtables"]],decls:5,vars:5,consts:[[3,"title"],[3,"ngSubmit","formGroup"],[3,"form","fields","model"],["type","submit",1,"btn","btn-secondary","mt-4"]],template:function(e,t){1&e&&(o.j41(0,"app-kt-app-form-page",0)(1,"form",1),o.bIt("ngSubmit",function(){return t.onSubmit(t.model)}),o.nrm(2,"formly-form",2),o.j41(3,"button",3),o.EFF(4,"Submit"),o.k0s()()()),2&e&&(o.Y8G("title","Add Table"),o.R7$(),o.Y8G("formGroup",t.form),o.R7$(),o.Y8G("form",t.form)("fields",t.fields)("model",t.model))},dependencies:[n.qT,n.cb,f.aF,n.j4,b.R]})}}return s})(),data:{breadcrumb:"Add"}}];let R=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=o.$C({type:s})}static{this.\u0275inj=o.G2t({imports:[m.iI.forChild(g),m.iI]})}}return s})();var A=r(5291),G=r(1794);let F=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=o.$C({type:s})}static{this.\u0275inj=o.G2t({imports:[p.MD,R,n.YN,f.qy,n.X1,A.u,G.g]})}}return s})()}}]);