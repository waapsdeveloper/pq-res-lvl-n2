"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[165],{8165:(F,p,a)=>{a.r(p),a.d(p,{ListProductModule:()=>x});var l=a(177),h=a(245),u=a(467),t=a(3953),g=a(5754),m=a(2406),f=a(5602),v=a(6879),P=a(7744);function k(o,d){1&o&&t.nrm(0,"i",15)}function y(o,d){if(1&o){const e=t.RV6();t.j41(0,"i",16),t.bIt("click",function(){t.eBV(e);const i=t.XpG().index,n=t.XpG();return t.Njj(n.deleteRow(i))}),t.k0s()}}function C(o,d){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",3)(3,"div",4)(4,"a",5),t.EFF(5),t.k0s()()()(),t.j41(6,"td")(7,"div",3)(8,"div",6),t.EFF(9),t.k0s()()(),t.j41(10,"td")(11,"div",3)(12,"div",7),t.EFF(13),t.k0s()()(),t.j41(14,"td")(15,"div",3)(16,"div",8),t.EFF(17),t.k0s()()(),t.j41(18,"td",9)(19,"i",10),t.bIt("click",function(){const i=t.eBV(e).index,n=t.XpG();return t.Njj(n.openDetails(i))}),t.k0s(),t.DNE(20,k,1,0,"i",11)(21,y,1,0,"i",12),t.k0s(),t.j41(22,"td")(23,"div",13),t.nrm(24,"input",14),t.k0s()()()}if(2&o){const e=d.$implicit,s=t.XpG();t.R7$(5),t.JRh(e.name),t.R7$(4),t.JRh(e.category?e.category.name:""),t.R7$(4),t.SpI(" $",e.price,""),t.R7$(4),t.JRh(e.status),t.R7$(3),t.Y8G("ngIf",s.showEdit),t.R7$(),t.Y8G("ngIf",s.showEdit)}}const L=[{path:"",component:(()=>{class o{constructor(e,s,i){this.nav=e,this.network=s,this.users=i,this.title="Products",this.addurl="/pages/products/add",this.search="",this.page=1,this.lastPage=-1,this.total=0,this.perpage=10,this.list=[],this.showEdit=!1,this.columns=["Name","Category","Price","Status"],this.initialize()}initialize(){this.getList("",1);const e=this.users.getUser();(1==e.role_id||2==e.role_id)&&(this.showEdit=!0)}getList(e="",s=1){var i=this;return(0,u.A)(function*(){let n={search:e,page:s,perpage:i.perpage};const r=yield i.network.getProducts(n);if(r.data){let c=r.data;i.page=c.current_page,i.lastPage=c.last_page,i.total=c.total,i.list=c.data}return r})()}editRow(e){}deleteRow(e){var s=this;return(0,u.A)(function*(){let i=s.list[e];i&&(yield s.network.removeProduct(i.id)),s.list.splice(e,1)})()}loadMore(){this.page<this.lastPage&&this.getList(this.search,this.page+1)}openDetails(e){this.nav.push("/pages/products/view/"+this.list[e].id)}onChangePerPage(e){this.getList("",1)}pageChange(e){this.getList(this.search,e)}onSearch(e){console.log(e),this.search=e,this.getList(this.search,1)}static{this.\u0275fac=function(s){return new(s||o)(t.rXU(g.F),t.rXU(m.A),t.rXU(f.g))}}static{this.\u0275cmp=t.VBU({type:o,selectors:[["app-list-product"]],decls:3,vars:6,consts:[[3,"onSearch","title","addurl"],[3,"pageChange","columns","currentPage","totalPages"],[4,"ngFor","ngForOf"],[1,"d-flex"],[1,"ms-5"],[1,"text-gray-800","text-hover-primary","fs-5","fw-bold","mb-1"],[1,"text-muted","fs-7","fw-bold"],[1,"badge","badge-secondary","fw-bold","me-auto","px-4","py-3"],[1,"badge","badge-light-primary","fw-bold","me-auto","px-4","py-3"],[1,"text-end","d-flex","flex-row","justify-content-end","align-items-center","gap-3"],[1,"ti","ti-eye",2,"font-size","24px",3,"click"],["class","ti ti-edit","style","font-size: 24px;",4,"ngIf"],["class","ti ti-trash","style","font-size: 24px;",3,"click",4,"ngIf"],[1,"form-check","form-check-sm","form-check-custom","form-check-solid"],["type","checkbox","value","1",1,"form-check-input"],[1,"ti","ti-edit",2,"font-size","24px"],[1,"ti","ti-trash",2,"font-size","24px",3,"click"]],template:function(s,i){1&s&&(t.j41(0,"app-kt-list-page",0),t.bIt("onSearch",function(r){return i.onSearch(r)}),t.j41(1,"app-kt-app-list-page-table",1),t.bIt("pageChange",function(r){return i.pageChange(r)}),t.DNE(2,C,25,6,"tr",2),t.k0s()()),2&s&&(t.Y8G("title","Products")("addurl","/pages/products/add"),t.R7$(),t.Y8G("columns",i.columns)("currentPage",i.page)("totalPages",i.lastPage),t.R7$(),t.Y8G("ngForOf",i.list))},dependencies:[l.Sq,l.bT,v.E,P.h]})}}return o})(),data:{breadcrumb:"list"}}];let _=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(L),h.iI]})}}return o})();var j=a(1407),R=a(3806);let x=(()=>{class o{static{this.\u0275fac=function(s){return new(s||o)}}static{this.\u0275mod=t.$C({type:o})}static{this.\u0275inj=t.G2t({imports:[l.MD,_,R.H,j.q]})}}return o})()}}]);