"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[775],{2775:(S,m,r)=>{r.r(m),r.d(m,{AddCategoryModule:()=>F});var p=r(177),c=r(245),i=r(467),l=r(4341),e=r(3953),g=r(2406),y=r(5754),v=r(9253),f=r(7376),h=r(5011);const C=[{path:"",component:(()=>{class a{constructor(s,t,o,n){this.fb=s,this.network=t,this.nav=o,this.utility=n,this.form=new l.gE({}),this.model={name:"",category:"",status:"active"},this.fields=[{fieldGroupClassName:"row",fieldGroup:[{key:"name",type:"input",props:{label:"Category Name",placeholder:"Enter category name",required:!0,minLength:3},className:"col-md-4 col-12"},{key:"category",type:"select",props:{label:"category",placeholder:"Select a parent category",options:[]},className:"col-md-4 col-12"},{key:"status",type:"select",props:{label:"Status",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},className:"col-md-4 col-12"}]}]}ngOnInit(){this.setCategoriesInForm()}setCategoriesInForm(){var s=this;return(0,i.A)(function*(){const t=yield s.getCategories();console.log(t);for(var o=0;o<s.fields.length;o++)for(var n=0;n<s.fields[o].fieldGroup.length;n++){let d=s.fields[o].fieldGroup[n];"category"==d.key&&(d.props.options=t)}})()}getCategories(){var s=this;return(0,i.A)(function*(){const o=yield s.network.getCategories({search:"",perpage:500});return o&&o.data?o.data.data.map(u=>({value:u.id,label:u.name})):[]})()}onSubmit(s){var t=this;return(0,i.A)(function*(){if(console.log(s),console.log("Form Submitted",t.form.valid),t.form.valid){let o=t.form.value;const n=yield t.network.addCategory(o);console.log(n),n&&t.nav.pop()}else t.utility.presentFailureToast("Please fill out all required fields correctly.")})()}static{this.\u0275fac=function(t){return new(t||a)(e.rXU(l.ok),e.rXU(g.A),e.rXU(y.F),e.rXU(v.Q))}}static{this.\u0275cmp=e.VBU({type:a,selectors:[["app-add-category"]],decls:5,vars:5,consts:[[3,"title"],[3,"ngSubmit","formGroup"],[3,"form","fields","model"],["type","submit",1,"btn","btn-secondary","mt-4"]],template:function(t,o){1&t&&(e.j41(0,"app-kt-app-form-page",0)(1,"form",1),e.bIt("ngSubmit",function(){return o.onSubmit(o.model)}),e.nrm(2,"formly-form",2),e.j41(3,"button",3),e.EFF(4,"Submit"),e.k0s()()()),2&t&&(e.Y8G("title","Add Restaurants"),e.R7$(),e.Y8G("formGroup",o.form),e.R7$(),e.Y8G("form",o.form)("fields",o.fields)("model",o.model))},dependencies:[l.qT,l.cb,f.aF,l.j4,h.R]})}}return a})(),data:{breadcrumb:"add"}}];let b=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[c.iI.forChild(C),c.iI]})}}return a})();var A=r(5291),G=r(1794);let F=(()=>{class a{static{this.\u0275fac=function(t){return new(t||a)}}static{this.\u0275mod=e.$C({type:a})}static{this.\u0275inj=e.G2t({imports:[p.MD,b,l.YN,f.qy,l.X1,A.u,G.g]})}}return a})()}}]);