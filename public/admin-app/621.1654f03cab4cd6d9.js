"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[621],{7621:(G,p,n)=>{n.r(p),n.d(p,{ListOrdersModule:()=>_});var c=n(177),u=n(245),f=n(467),t=n(3953),h=n(5754),m=n(2406),g=n(5602),v=n(6879),k=n(7744);function O(e,o){if(1&e&&(t.j41(0,"div",6)(1,"div",4)(2,"a",14),t.EFF(3),t.k0s()()()),2&e){const s=o.$implicit;t.R7$(3),t.SpI("",null==s?null:s.product_name," ")}}function y(e,o){if(1&e&&(t.j41(0,"div",6)(1,"div",4)(2,"a",14),t.EFF(3),t.k0s()()()),2&e){const s=o.$implicit;t.R7$(3),t.SpI("",null==s?null:s.quantity," ")}}function F(e,o){1&e&&t.nrm(0,"i",15)}function j(e,o){if(1&e){const s=t.RV6();t.j41(0,"i",16),t.bIt("click",function(){t.eBV(s);const r=t.XpG().index,a=t.XpG();return t.Njj(a.deleteRow(r))}),t.k0s()}}function x(e,o){if(1&e){const s=t.RV6();t.j41(0,"tr")(1,"td"),t.DNE(2,O,4,1,"div",3),t.k0s(),t.j41(3,"td"),t.DNE(4,y,4,1,"div",3),t.k0s(),t.j41(5,"td")(6,"div",4)(7,"div",5),t.EFF(8),t.k0s()()(),t.j41(9,"td")(10,"div",6)(11,"div",7),t.EFF(12),t.k0s()()(),t.j41(13,"td",8)(14,"i",9),t.bIt("click",function(){const r=t.eBV(s).index,a=t.XpG();return t.Njj(a.openDetails(r))}),t.k0s(),t.DNE(15,F,1,0,"i",10)(16,j,1,0,"i",11),t.k0s(),t.j41(17,"td")(18,"div",12),t.nrm(19,"input",13),t.k0s()()()}if(2&e){const s=o.$implicit,i=t.XpG();t.R7$(2),t.Y8G("ngForOf",s.products),t.R7$(2),t.Y8G("ngForOf",s.products),t.R7$(4),t.SpI("$",null==s?null:s.total_price,""),t.R7$(4),t.JRh(s.status),t.R7$(3),t.Y8G("ngIf",i.showEdit),t.R7$(),t.Y8G("ngIf",i.showEdit)}}const L=[{path:"",component:(()=>{class e{constructor(s,i,r){this.nav=s,this.network=i,this.users=r,this.title="Orders",this.addurl="/pages/orders/add",this.search="",this.page=1,this.lastPage=-1,this.total=0,this.perpage=10,this.list=[],this.showEdit=!1,this.columns=["Products","Quantity","Total Price","Status"],this.initialize()}initialize(){this.getList("",1);const s=this.users.getUser();(1==s.role_id||2==s.role_id)&&(this.showEdit=!0)}getList(s="",i=1){var r=this;return(0,f.A)(function*(){let a={search:s,page:i,perpage:r.perpage};const d=yield r.network.getOrders(a);if(d.data){let l=d.data;r.page=l.current_page,r.lastPage=l.last_page,r.total=l.total,r.list=l.data,console.log(r.list)}return d})()}editRow(s){}deleteRow(s){var i=this;return(0,f.A)(function*(){let r=i.list[s];r&&(yield i.network.removeTable(r.id)),i.list.splice(s,1)})()}loadMore(){this.page<this.lastPage&&this.getList(this.search,this.page+1)}openDetails(s){this.nav.push("/pages/orders/view/"+this.list[s].id)}onChangePerPage(s){this.getList("",1)}static{this.\u0275fac=function(i){return new(i||e)(t.rXU(h.F),t.rXU(m.A),t.rXU(g.g))}}static{this.\u0275cmp=t.VBU({type:e,selectors:[["app-list-orders"]],decls:3,vars:6,consts:[[3,"title","addurl"],[3,"columns","currentPage","totalPages"],[4,"ngFor","ngForOf"],["class","d-flex",4,"ngFor","ngForOf"],[1,"ms-4"],[1,"text-muted","fs-7","fw-bold"],[1,"d-flex"],[1,"badge","badge-light-primary","fw-bold","me-auto","px-4","py-3"],[1,"text-end","d-flex","flex-row","justify-content-end","align-items-center","gap-3"],[1,"ti","ti-eye",2,"font-size","24px",3,"click"],["class","ti ti-edit","style","font-size: 24px;",4,"ngIf"],["class","ti ti-trash","style","font-size: 24px;",3,"click",4,"ngIf"],[1,"form-check","form-check-sm","form-check-custom","form-check-solid"],["type","checkbox","value","1",1,"form-check-input"],[1,"text-muted","fs-7","fw-bold","text-hover-primary","fs-5","fw-bold","mb-1"],[1,"ti","ti-edit",2,"font-size","24px"],[1,"ti","ti-trash",2,"font-size","24px",3,"click"]],template:function(i,r){1&i&&(t.j41(0,"app-kt-list-page",0)(1,"app-kt-app-list-page-table",1),t.DNE(2,x,20,6,"tr",2),t.k0s()()),2&i&&(t.Y8G("title","Orders")("addurl","/pages/orders/add"),t.R7$(),t.Y8G("columns",r.columns)("currentPage",r.page)("totalPages",r.total),t.R7$(),t.Y8G("ngForOf",r.list))},dependencies:[c.Sq,c.bT,v.E,k.h]})}}return e})(),data:{breadcrumb:"list"}}];let R=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[u.iI.forChild(L),u.iI]})}}return e})();var $=n(1407),C=n(3806);let _=(()=>{class e{static{this.\u0275fac=function(i){return new(i||e)}}static{this.\u0275mod=t.$C({type:e})}static{this.\u0275inj=t.G2t({imports:[c.MD,R,C.H,$.q]})}}return e})()}}]);