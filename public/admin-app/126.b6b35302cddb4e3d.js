"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[126],{126:(F,c,n)=>{n.r(c),n.d(c,{ListRestaurantModule:()=>j});var p=n(177),h=n(245),u=n(467),t=n(3953),d=n(5754),g=n(2406),m=n(6879),f=n(7744);function v(i,y){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"div",3)(3,"div",4)(4,"a",5),t.EFF(5),t.k0s()()()(),t.j41(6,"td")(7,"div",3)(8,"div",6),t.EFF(9),t.k0s()()(),t.j41(10,"td")(11,"div",3)(12,"div",7),t.EFF(13),t.k0s()()(),t.j41(14,"td",8)(15,"i",9),t.bIt("click",function(){const a=t.eBV(e).index,o=t.XpG();return t.Njj(o.openDetails(a))}),t.k0s(),t.nrm(16,"i",10),t.j41(17,"i",11),t.bIt("click",function(){const a=t.eBV(e).index,o=t.XpG();return t.Njj(o.deleteRow(a))}),t.k0s()(),t.j41(18,"td")(19,"div",12),t.nrm(20,"input",13),t.k0s()()()}if(2&i){const e=y.$implicit;t.R7$(5),t.JRh(e.name),t.R7$(4),t.JRh(e.address),t.R7$(4),t.JRh(e.status)}}const R=[{path:"",component:(()=>{class i{constructor(e,s){this.nav=e,this.network=s,this.title="Restaurants",this.addurl="/pages/restaurants/add",this.search="",this.page=1,this.lastPage=-1,this.total=0,this.perpage=10,this.list=[],this.columns=["Name","Address","Status"],this.initialize()}initialize(){this.getList("",1)}getList(e="",s=1){var a=this;return(0,u.A)(function*(){let o={search:e,page:s,perpage:a.perpage};const r=yield a.network.getRestaurants(o);if(r.data){let l=r.data;a.page=l.current_page,a.lastPage=l.last_page,a.total=l.total,console.log(r),a.list=l.data}return r})()}editRow(e){}deleteRow(e){var s=this;return(0,u.A)(function*(){let a=s.list[e];a&&(yield s.network.removeRestaurant(a.id)),s.list.splice(e,1)})()}loadMore(){this.page<this.lastPage&&this.getList(this.search,this.page+1)}openDetails(e){this.nav.push("/pages/restaurants/view/"+this.list[e].id)}onChangePerPage(e){this.getList("",1)}pageChange(e){this.getList(this.search,e)}onSearch(e){console.log(e),this.search=e,this.getList(this.search,1)}static{this.\u0275fac=function(s){return new(s||i)(t.rXU(d.F),t.rXU(g.A))}}static{this.\u0275cmp=t.VBU({type:i,selectors:[["app-list-restaurant"]],decls:3,vars:6,consts:[[3,"onSearch","title","addurl"],[3,"pageChange","columns","currentPage","totalPages"],[4,"ngFor","ngForOf"],[1,"d-flex"],[1,"ms-5"],[1,"text-gray-800","text-hover-primary","fs-5","fw-bold","mb-1"],[1,"text-muted","fs-7","fw-bold"],[1,"badge","badge-light-primary","fw-bold","me-auto","px-4","py-3"],[1,"text-end","d-flex","flex-row","justify-content-end","align-items-center","gap-3"],[1,"ti","ti-eye",2,"font-size","24px",3,"click"],[1,"ti","ti-edit",2,"font-size","24px"],[1,"ti","ti-trash",2,"font-size","24px",3,"click"],[1,"form-check","form-check-sm","form-check-custom","form-check-solid"],["type","checkbox","value","1",1,"form-check-input"]],template:function(s,a){1&s&&(t.j41(0,"app-kt-list-page",0),t.bIt("onSearch",function(r){return a.onSearch(r)}),t.j41(1,"app-kt-app-list-page-table",1),t.bIt("pageChange",function(r){return a.pageChange(r)}),t.DNE(2,v,21,3,"tr",2),t.k0s()()),2&s&&(t.Y8G("title","Restaurants")("addurl","/pages/restaurants/add"),t.R7$(),t.Y8G("columns",a.columns)("currentPage",a.page)("totalPages",a.lastPage),t.R7$(),t.Y8G("ngForOf",a.list))},dependencies:[p.Sq,m.E,f.h]})}}return i})(),data:{breadcrumb:"list"}}];let k=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[h.iI.forChild(R),h.iI]})}}return i})();var C=n(1407),L=n(3806);let j=(()=>{class i{static{this.\u0275fac=function(s){return new(s||i)}}static{this.\u0275mod=t.$C({type:i})}static{this.\u0275inj=t.G2t({imports:[p.MD,k,L.H,C.q]})}}return i})()}}]);