"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[487],{4487:(F,c,r)=>{r.r(c),r.d(c,{AddProductModule:()=>P});var f=r(177),m=r(245),i=r(467),n=r(4341),e=r(3953),v=r(2406),y=r(5754),h=r(9253),u=r(7376),g=r(5011);const b=[{path:"",component:(()=>{class s{constructor(l,t,o,a){this.fb=l,this.network=t,this.nav=o,this.utility=a,this.form=new n.gE({}),this.model={name:"",category:"",status:"active"},this.fields=[{fieldGroupClassName:"row",fieldGroup:[{key:"name",type:"input",props:{label:"Product Name",placeholder:"Enter product name",required:!0,minLength:3},className:"col-md-4 col-12"},{key:"category",type:"select",props:{label:"category",placeholder:"Select a category",options:[]},className:"col-md-4 col-12"},{key:"status",type:"select",props:{label:"Status",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},className:"col-md-4 col-12"}]},{fieldGroupClassName:"row",fieldGroup:[{key:"description",type:"input",props:{label:"Description",placeholder:"Enter description",required:!0,minLength:3},className:"col-md-4 col-12"},{key:"price",type:"input",props:{label:"Price",placeholder:"Set a regular price",type:"number"},className:"col-md-4 col-12"}]}]}ngOnInit(){this.setCategoriesInForm()}setCategoriesInForm(){var l=this;return(0,i.A)(function*(){const t=yield l.getCategories();console.log(t);for(var o=0;o<l.fields.length;o++)for(var a=0;a<l.fields[o].fieldGroup.length;a++){let d=l.fields[o].fieldGroup[a];"category"==d.key&&(d.props.options=t)}})()}getCategories(){var l=this;return(0,i.A)(function*(){const o=yield l.network.getCategories({search:"",perpage:500});return o&&o.data?o.data.data.map(p=>({value:p.id,label:p.name})):[]})()}onSubmit(l){var t=this;return(0,i.A)(function*(){if(console.log(l),console.log("Form Submitted",t.form.valid),t.form.valid){let o=t.form.value;const a=yield t.network.addProduct(o);console.log(a),a&&t.nav.pop()}else t.utility.presentFailureToast("Please fill out all required fields correctly.")})()}static{this.\u0275fac=function(t){return new(t||s)(e.rXU(n.ok),e.rXU(v.A),e.rXU(y.F),e.rXU(h.Q))}}static{this.\u0275cmp=e.VBU({type:s,selectors:[["app-add-product"]],decls:5,vars:5,consts:[[3,"title"],[3,"ngSubmit","formGroup"],[3,"form","fields","model"],["type","submit",1,"btn","btn-secondary","mt-4"]],template:function(t,o){1&t&&(e.j41(0,"app-kt-app-form-page",0)(1,"form",1),e.bIt("ngSubmit",function(){return o.onSubmit(o.model)}),e.nrm(2,"formly-form",2),e.j41(3,"button",3),e.EFF(4,"Submit"),e.k0s()()()),2&t&&(e.Y8G("title","Add Products"),e.R7$(),e.Y8G("formGroup",o.form),e.R7$(),e.Y8G("form",o.form)("fields",o.fields)("model",o.model))},dependencies:[n.qT,n.cb,u.aF,n.j4,g.R]})}}return s})(),data:{breadcrumb:"add"}}];let C=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[m.iI.forChild(b),m.iI]})}}return s})();var G=r(5291),A=r(1794);let P=(()=>{class s{static{this.\u0275fac=function(t){return new(t||s)}}static{this.\u0275mod=e.$C({type:s})}static{this.\u0275inj=e.G2t({imports:[f.MD,C,n.YN,u.qy,n.X1,G.u,A.g]})}}return s})()}}]);