"use strict";(self.webpackChunkfree_version=self.webpackChunkfree_version||[]).push([[44],{6044:(F,m,l)=>{l.r(m),l.d(m,{AddUserModule:()=>C});var f=l(177),c=l(245),d=l(467),a=l(4341),o=l(3953),h=l(5754),v=l(2406),y=l(9253),p=l(7376),g=l(5011);const b=[{path:"",component:(()=>{class s{constructor(r,e,t){this.nav=r,this.network=e,this.utility=t,this.form=new a.gE({}),this.model={name:"",email:"",password:"",phone:"",role:"",status:""},this.fields=[{fieldGroupClassName:"row",fieldGroup:[{key:"name",type:"input",props:{label:"Name",placeholder:"Enter user name",required:!0,minLength:3},className:"col-md-4 col-12"},{key:"email",type:"input",props:{label:"Email Address",placeholder:"Enter email",required:!0,type:"email"},className:"col-md-4 col-12"},{key:"password",type:"input",props:{label:"Password",type:"password",placeholder:"Enter password",required:!0,minLength:6},className:"col-md-4 col-12"}]},{fieldGroupClassName:"row",fieldGroup:[{key:"phone",type:"input",props:{label:"Phone Number",placeholder:"Enter phone number",type:"tel"},className:"col-md-4 col-12"},{key:"role",type:"select",props:{label:"Role",placeholder:"Select a role",required:!0,options:[{value:"admin",label:"Admin"},{value:"user",label:"User"}]},className:"col-md-4 col-12"},{key:"status",type:"select",props:{label:"Status",placeholder:"Select status",required:!0,options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"}]},className:"col-md-4 col-12"}]}]}ngOnInit(){this.setRoleInForm()}setRoleInForm(){var r=this;return(0,d.A)(function*(){const e=yield r.getRoles();console.log(e);for(var t=0;t<r.fields.length;t++)for(var n=0;n<r.fields[t].fieldGroup.length;n++){let i=r.fields[t].fieldGroup[n];"role"==i.key&&(i.props.options=e)}})()}getRoles(){var r=this;return(0,d.A)(function*(){const t=yield r.network.getRoles({search:""});return t&&t.data?t.data.data.map(u=>({value:u.id,label:u.name})):[]})()}onSubmit(r){var e=this;return(0,d.A)(function*(){if(console.log(r),console.log("Form Submitted",e.form.valid),e.form.valid){let t=e.form.value;const n=yield e.network.addUser(t);console.log(n),n&&e.nav.pop()}else e.utility.presentFailureToast("Please fill out all required fields correctly.")})()}onFileSelected(r){const e=r.target;if(e.files&&e.files[0]){const t=e.files[0],n=new FileReader;n.onload=()=>{},n.onerror=i=>{console.error("Error reading file:",i)},n.readAsDataURL(t)}}static{this.\u0275fac=function(e){return new(e||s)(o.rXU(h.F),o.rXU(v.A),o.rXU(y.Q))}}static{this.\u0275cmp=o.VBU({type:s,selectors:[["app-add-user"]],decls:5,vars:5,consts:[[3,"title"],[3,"ngSubmit","formGroup"],[3,"form","fields","model"],["type","submit",1,"btn","btn-secondary","mt-4"]],template:function(e,t){1&e&&(o.j41(0,"app-kt-app-form-page",0)(1,"form",1),o.bIt("ngSubmit",function(){return t.onSubmit(t.model)}),o.nrm(2,"formly-form",2),o.j41(3,"button",3),o.EFF(4,"Submit"),o.k0s()()()),2&e&&(o.Y8G("title","Add User"),o.R7$(),o.Y8G("formGroup",t.form),o.R7$(),o.Y8G("form",t.form)("fields",t.fields)("model",t.model))},dependencies:[a.qT,a.cb,p.aF,a.j4,g.R],styles:["@media (max-width: 768px){form[_ngcontent-%COMP%]{padding:2rem 1rem}h1[_ngcontent-%COMP%]{font-size:1.5rem}}"]})}}return s})(),data:{breadcrumb:"add"}}];let A=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=o.$C({type:s})}static{this.\u0275inj=o.G2t({imports:[c.iI.forChild(b),c.iI]})}}return s})();var U=l(5291),G=l(1794);let C=(()=>{class s{static{this.\u0275fac=function(e){return new(e||s)}}static{this.\u0275mod=o.$C({type:s})}static{this.\u0275inj=o.G2t({imports:[f.MD,A,a.YN,p.qy,a.X1,U.u,G.g]})}}return s})()}}]);